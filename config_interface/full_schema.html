<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration Schema &mdash; Marius 0.0.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/marius_theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python API" href="../python_api/index.html" />
    <link rel="prev" title="Sample Files" href="samples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/marius_logo_scaled.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu"> 
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Configuration Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="samples.html">Sample Files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model-configuration">Model Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#encoder-configuration">Encoder Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoder-configuration">Decoder Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loss-configuration">Loss Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimizer-configuration">Optimizer Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#storage-configuration">Storage Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dataset-configuration">Dataset Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#storage-backend-configuration">Storage Backend Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#training-configuration">Training Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#evaluation-configuration">Evaluation Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python_api/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocess_datasets/index.html">Datasets and Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export_and_inference/index.html">Model Export and Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_learning/index.html">Graph Learning</a></li>
</ul>


  <!-- <style>
    a.gh-font {
        font-weight: 800;
        color: rgb(160, 45, 45);
    }
    </style> -->
  <p>
  <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">
    <path
      d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" />
  </svg> -->
  <a href="https://github.com/marius-team/marius">GitHub</a>
</p>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Marius</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Configuration Interface</a> &raquo;</li>
      <li>Configuration Schema</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/config_interface/full_schema.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-schema">
<h1>Configuration Schema<a class="headerlink" href="#configuration-schema" title="Permalink to this heading"></a></h1>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">MariusConfig</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>model</p></td>
<td><p>ModelConfig</p></td>
<td><p>Defines model architecture, learning task, optimizers and loss function.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>storage</p></td>
<td><p>StorageConfig</p></td>
<td><p>Defines the input graph and how to store the graph (edges, features) and learned model (embeddings).</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>training</p></td>
<td><p>TrainingConfig</p></td>
<td><p>Hyperparameters for training.</p></td>
<td><p>Training</p></td>
</tr>
<tr class="row-odd"><td><p>evaluation</p></td>
<td><p>EvaluationConfig</p></td>
<td><p>Hyperparameters for evaluation.</p></td>
<td><p>Evaluation</p></td>
</tr>
</tbody>
</table>
<p>Below is a sample end-to-end configuration file for link prediction on <cite>fb15_237</cite> dataset. The model consists of an embedding layer
in the encoder phase which is directly fed to the <cite>DISTMULT</cite> decoder. Both embeddings and edges are stored in <cite>cpu</cite> memory.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">learning_task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LINK_PREDICTION</span><span class="w"></span>
<span class="w">  </span><span class="nt">encoder</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EMBEDDING</span><span class="w"></span>
<span class="w">          </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">          </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>
<span class="w">  </span><span class="nt">decoder</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISTMULT</span><span class="w"></span>
<span class="w">  </span><span class="nt">loss</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SOFTMAX_CE</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">reduction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUM</span><span class="w"></span>
<span class="w">  </span><span class="nt">dense_optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAM</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span><span class="w"></span>
<span class="w">  </span><span class="nt">sparse_optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAGRAD</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
<span class="nt">storage</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">full_graph_evaluation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">device_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cpu</span><span class="w"></span>
<span class="w">  </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/data/datasets/fb15k_237/</span><span class="w"></span>
<span class="w">  </span><span class="nt">edges</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span><span class="w"></span>
<span class="w">  </span><span class="nt">embeddings</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">float</span><span class="w"></span>
<span class="nt">training</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w"></span>
<span class="w">  </span><span class="nt">negative_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">num_chunks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">negatives_per_positive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">degree_fraction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">    </span><span class="nt">filtered</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">  </span><span class="nt">num_epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">  </span><span class="nt">pipeline</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">epochs_per_shuffle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">  </span><span class="nt">logs_per_epoch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">  </span><span class="nt">resume_training</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="nt">evaluation</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w"></span>
<span class="w">  </span><span class="nt">negative_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">filtered</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">epochs_per_eval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">  </span><span class="nt">pipeline</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
<section id="model-configuration">
<h2>Model Configuration<a class="headerlink" href="#model-configuration" title="Permalink to this heading"></a></h2>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">ModelConfig</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>random_seed</p></td>
<td><p>Int</p></td>
<td><p>Random seed used to initialize, train, and evaluate the model. If not given, a seed will be generated.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>learning_task</p></td>
<td><p>String</p></td>
<td><p>Learning task for which the model is used. Valid values are [“LINK_PREDICTION”, “NODE_CLASSIFICATION”] (case insensitive). “LP” and “NC” can be used for shorthand.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</td>
<td><p><a class="reference internal" href="#encoder-conf-section"><span class="std std-ref">EncoderConfig</span></a></p></td>
<td><p>Defines the architecture of the encoder and configuration of neighbor samplers.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p>decoder</p>
</dd>
</dl>
</td>
<td><p><a class="reference internal" href="#decoder-conf-section"><span class="std std-ref">DecoderConfig</span></a></p></td>
<td><p>Denotes the decoder to apply to the output of the encoder. The decoder is learning task specific.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p>loss</p>
</dd>
</dl>
</td>
<td><p><a class="reference internal" href="#loss-conf-section"><span class="std std-ref">LossConfig</span></a></p></td>
<td><p>Loss function to apply over the output of the decoder.</p></td>
<td><p>Required for training</p></td>
</tr>
<tr class="row-odd"><td><p>dense_optimizer</p></td>
<td><p><a class="reference internal" href="#optimizer-conf-section"><span class="std std-ref">OptimizerConfig</span></a></p></td>
<td><p>Optimizer to use for dense model parameters. Where dense model parameters refer to all parameters besides the node embeddings. Where node embeddings are handled by the sparse_optimizer.</p></td>
<td><p>Required for training</p></td>
</tr>
<tr class="row-even"><td><p>sparse_optimizer</p></td>
<td><p><a class="reference internal" href="#optimizer-conf-section"><span class="std std-ref">OptimizerConfig</span></a></p></td>
<td><p>Optimizer to use for the node embedding parameters. Currently only ADAGRAD is supported.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is a full view of the <cite>model</cite> attribute and the corresponding parameters that can be set in the model configuration. It consists
of an embedding layer in the encoder phase and a <cite>DISTMULT</cite> decoder.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">random_seed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">456356765463</span><span class="w"></span>
<span class="w">  </span><span class="nt">learning_task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LINK_PREDICTION</span><span class="w"></span>
<span class="w">  </span><span class="nt">encoder</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EMBEDDING</span><span class="w"></span>
<span class="w">          </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">          </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>
<span class="w">          </span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="w"></span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
<span class="w">  </span><span class="nt">decoder</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISTMULT</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">inverse_edges</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">use_relation_features</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">      </span><span class="nt">edge_decoder_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CORRUPT_NODE</span><span class="w"></span>
<span class="w">    </span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAGRAD</span><span class="w"></span>
<span class="w">      </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
<span class="w">  </span><span class="nt">loss</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SOFTMAX_CE</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">reduction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUM</span><span class="w"></span>
<span class="w">  </span><span class="nt">dense_optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAM</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span><span class="w"></span>
<span class="w">  </span><span class="nt">sparse_optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAGRAD</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
</pre></div>
</div>
<section id="encoder-configuration">
<span id="encoder-conf-section"></span><h3>Encoder Configuration<a class="headerlink" href="#encoder-configuration" title="Permalink to this heading"></a></h3>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text">EncoderConfig</span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>layers</p></td>
<td><p>List[List[<a class="reference internal" href="#layer-conf-section"><span class="std std-ref">LayerConfig</span></a>]]</p></td>
<td><p>Defines architecture of the encoder. Layers of the encoder are grouped into stages, where the layers within a stage are executed in parallel and the output of stage is the input to the successive stage.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>train_neighbor_sampling</p></td>
<td><p>List[<a class="reference internal" href="#neighbor-sampling-conf-section"><span class="std std-ref">NeighborSamplingConfig</span></a>]</p></td>
<td><p>Sets the neighbor sampling configuration for each GNN layer for training (and evaluation if eval_neighbor_sampling is not set). Defined as a list of neighbor sampling configurations, where the size of the list must match the number of GNN layers in the encoder.</p></td>
<td><p>Only for GNNs</p></td>
</tr>
<tr class="row-even"><td><p>eval_neighbor_sampling</p></td>
<td><p>List[<a class="reference internal" href="#neighbor-sampling-conf-section"><span class="std std-ref">NeighborSamplingConfig</span></a>]</p></td>
<td><p>Sets the neighbor sampling configuration for each GNN layer for evaluation. Defined as a list of neighbor sampling configurations, where the size of the list must match the number of GNN layers in the encoder. If this field is not set then the sampling configuration used for training will be used for evaluation.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>The below example depicts a configuration where there is one embedding layer, followed by three GNN layers.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">encoder</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">train_neighbor_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">  </span><span class="nt">eval_neighbor_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">  </span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EMBEDDING</span><span class="w"></span>
<span class="w">        </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GNN</span><span class="w"></span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GAT</span><span class="w"></span>
<span class="w">        </span><span class="nt">input_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GNN</span><span class="w"></span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GAT</span><span class="w"></span>
<span class="w">        </span><span class="nt">input_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GNN</span><span class="w"></span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GAT</span><span class="w"></span>
<span class="w">        </span><span class="nt">input_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">        </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>
</pre></div>
</div>
<span id="neighbor-sampling-conf-section"></span><table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-text">NeighborSamplingConfig</span><a class="headerlink" href="#id4" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>Denotes the type of the neighbor sampling layer. Options: [“ALL”, “UNIFORM”, “DROPOUT”].</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>NeighborSamplingOptions</p></td>
<td><p>Specific options depending on the type of sampling layer.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>In the following configuration snippet, the GNN layer samples all neighbors for a given node during training. All neighbors with incoming
edges to the given node are sampled while the outgoing edges are ignored.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">train_neighbor_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALL</span><span class="w"></span>
<span class="w">    </span><span class="nt">use_incoming_nbrs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">use_outgoing_nbrs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id5">
<caption><span class="caption-text">UniformSamplingOptions[NeighborSamplingOptions]</span><a class="headerlink" href="#id5" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>max_neighbors</p></td>
<td><p>Int</p></td>
<td><p>Number of neighbors to sample in a given uniform sampling layer.</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<p>The below configuration might work for a graph configuration where there are 2 GNN layers. The configuration specifies that at most
10 neighboring nodes will be samples for any given node embedding during training.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">train_neighbor_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UNIFORM</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">max_neighbors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UNIFORM</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">max_neighbors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id6">
<caption><span class="caption-text">DropoutSamplingOptions[NeighborSamplingOptions]</span><a class="headerlink" href="#id6" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rate</p></td>
<td><p>Float</p></td>
<td><p>The dropout rate for a dropout layer.</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<p><cite>DROPOUT</cite> mode neighbor sampling randomly drops <cite>rate * 100</cite> percent neighbors during sampling.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">train_neighbor_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DROPOUT</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span><span class="w"></span>
</pre></div>
</div>
<section id="layer-configuration">
<span id="layer-conf-section"></span><h4>Layer Configuration<a class="headerlink" href="#layer-configuration" title="Permalink to this heading"></a></h4>
<table class="colwidths-given docutils align-default" id="id7">
<caption><span class="caption-text">LayerConfig</span><a class="headerlink" href="#id7" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>Denotes the type of layer. Options: [“EMBEDDING”, “FEATURE”, “GNN” “REDUCTION”]</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>LayerOptions</p></td>
<td><p>Layer specific options depending on the type.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>input_dim</p></td>
<td><p>Int</p></td>
<td><p>The dimension of the input to the layer.</p></td>
<td><p>GNN and Reduction layers</p></td>
</tr>
<tr class="row-odd"><td><p>output_dim</p></td>
<td><p>Int</p></td>
<td><p>The output of dimension of the layer.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>init</p></td>
<td><p><a class="reference internal" href="#init-conf-section"><span class="std std-ref">InitConfig</span></a></p></td>
<td><p>Initialization method for the layer parameters. (Default GLOROT_UNIFORM).</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>optimizer</p></td>
<td><p>OptimizerConfig</p></td>
<td><p>Optimizer to use for the parameters of this layer. If not given, the dense_optimizer is used.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>bias</p></td>
<td><p>Bool</p></td>
<td><p>Enable a bias to be applied to the output of the layer. (Default False)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>bias_init</p></td>
<td><p><a class="reference internal" href="#init-conf-section"><span class="std std-ref">InitConfig</span></a></p></td>
<td><p>Initialization method for the bias. The default initialization is zeroes.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>activation</p></td>
<td><p>String</p></td>
<td><p>Activation function to apply to the output of the layer. Options [“RELU”, “SIGMOID”, “NONE”]. (Default “NONE”)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is a configuration for creating and embedding layer with output dimension 50. It is initialized with zeros and has no activation
set.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EMBEDDING</span><span class="w"></span>
<span class="w">    </span><span class="nt">input_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-1</span><span class="w"></span>
<span class="w">    </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">    </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>
<span class="w">    </span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="w"></span>
<span class="w">      </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
<span class="w">    </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">bias_init</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZEROS</span><span class="w"></span>
<span class="w">    </span><span class="nt">activation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NONE</span><span class="w"></span>
</pre></div>
</div>
<p>A GNN layer of type GAT (Graph Attention) with input and output dimension of 50 is as follows.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GNN</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GAT</span><span class="w"></span>
<span class="w">    </span><span class="nt">input_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">    </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">    </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>
</pre></div>
</div>
<p>A Reduction layer of type Linear, with input dimension of 100 and output dimension of 50 is as follows.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">REDUCTION</span><span class="w"></span>
<span class="w">    </span><span class="nt">input_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w"></span>
<span class="w">    </span><span class="nt">ouptut_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">    </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LINEAR</span><span class="w"></span>
</pre></div>
</div>
<p>Below is a simple Feature layer with output dimension of 50. The input dimension is set to -1 by default since both Feature and
Embedding layers do not have any input.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">layers</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FEATURE</span><span class="w"></span>
<span class="w">    </span><span class="nt">output_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">    </span><span class="nt">bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="layer-options">
<h4>Layer Options<a class="headerlink" href="#layer-options" title="Permalink to this heading"></a></h4>
<p><strong>GNN Layer Options</strong></p>
<table class="colwidths-given docutils align-default" id="id8">
<caption><span class="caption-text">GraphSageLayerOptions[LayerOptions]</span><a class="headerlink" href="#id8" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>The type of the GNN layer, for GraphSage, this must be equal to “GRAPH_SAGE”.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>aggregator</p></td>
<td><p>String</p></td>
<td><p>Aggregation to use for graph sage, options are [“GCN”, “MEAN”]. (Default “MEAN”)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>A GNN layer of type <cite>GRAPH_SAGE</cite> with aggregator set to <cite>MEAN</cite>. Another possbile option is <cite>GCN</cite> (Graph Convolution).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GNN</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GRAPH_SAGE</span><span class="w"></span>
<span class="w">      </span><span class="nt">aggregator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MEAN</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id9">
<caption><span class="caption-text">GATLayerOptions[LayerOptions]</span><a class="headerlink" href="#id9" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>The type of the GNN layer, for GAT, this must be equal to “GAT”.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>num_heads</p></td>
<td><p>Int</p></td>
<td><p>Number of attention heads to use. (Default 10)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>average_heads</p></td>
<td><p>Bool</p></td>
<td><p>If true, the attention heads will be averaged, otherwise they will be concatenated. (Default True)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>negative_slope</p></td>
<td><p>Float</p></td>
<td><p>Negative slope to use for LeakyReLU. (Default .2)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>input_dropout</p></td>
<td><p>Float</p></td>
<td><p>Dropout rate to apply to the input to the layer. (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>attention_dropout</p></td>
<td><p>Float</p></td>
<td><p>Dropout rate to apply to the attention weights. (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>A GNN layer of type <cite>GAT</cite> (Graph Attention) with 50 attention heads. <cite>input_dropout</cite> is set to 0.1 implying that 10 percent of the
input tensor values will be randomly dropped.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GNN</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GAT</span><span class="w"></span>
<span class="w">      </span><span class="nt">num_heads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w"></span>
<span class="w">      </span><span class="nt">average_heads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w"></span>
<span class="w">      </span><span class="nt">input_dropout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Reduction Layer Options</strong></p>
<table class="colwidths-given docutils align-default" id="id10">
<caption><span class="caption-text">ReductionLayerOptions[LayerOptions]</span><a class="headerlink" href="#id10" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>The type of the reduction layer. Options are: [“CONCAT”, “LINEAR”]. (Default “CONCAT”)</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<p>A reduction layer of type <cite>LINEAR</cite>. Another possible type for the reduction layer is <cite>CONCAT</cite>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">REDUCTION</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LINEAR</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="initialization-configuration">
<span id="init-conf-section"></span><h4>Initialization Configuration<a class="headerlink" href="#initialization-configuration" title="Permalink to this heading"></a></h4>
<table class="colwidths-given docutils align-default" id="id11">
<caption><span class="caption-text">InitConfig</span><a class="headerlink" href="#id11" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>The type of the initialization. Options are: [“GLOROT_UNIFORM”, “GLOROT_NORMAL”, “UNIFORM”, “NORMAL”, “ZEROES”, “ONES”, “CONSTANT”]. Default “GLOROT_UNIFORM”</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>InitOptions</p></td>
<td><p>Initialization specific options depending on the type.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GLOROT_NORMAL</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Uniform Init Options</strong></p>
<table class="colwidths-given docutils align-default" id="id12">
<caption><span class="caption-text">UniformInitOptions[InitOptions]</span><a class="headerlink" href="#id12" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scale_factor</p></td>
<td><p>Float</p></td>
<td><p>The scale factor of the uniform distribution. (Default 1)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>The below configuration is used to initialize a layer with a uniform distribution of values ranging between [-scale_factor, +scale_factor]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UNIFORM</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scale_factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Normal Init Options</strong></p>
<table class="colwidths-given docutils align-default" id="id13">
<caption><span class="caption-text">NormalInitOptions[InitOptions]</span><a class="headerlink" href="#id13" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Float</p></td>
<td><p>The mean of the distribution. (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>std</p></td>
<td><p>Float</p></td>
<td><p>The standard deviation of the distribution. (Default 1.0)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>The below configuration is used to initialize a layer with values belonging to a noraml distribution, with mean 0.5 and standard
deviation 0.1.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NORMAL</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">mean</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span><span class="w"></span>
<span class="w">    </span><span class="nt">std</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Constant Init Options</strong></p>
<table class="colwidths-given docutils align-default" id="id14">
<caption><span class="caption-text">ConstantInitOptions[InitOptions]</span><a class="headerlink" href="#id14" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>constant</p></td>
<td><p>Float</p></td>
<td><p>The value to set all parameters. (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p><cite>CONSTANT</cite> initialization mode initializes all parameters of the layer to the specified constant value.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">init</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CONSTANT</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">constant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.4</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="decoder-configuration">
<span id="decoder-conf-section"></span><h3>Decoder Configuration<a class="headerlink" href="#decoder-configuration" title="Permalink to this heading"></a></h3>
<table class="colwidths-given docutils align-default" id="id15">
<caption><span class="caption-text">DecoderConfig</span><a class="headerlink" href="#id15" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>Denotes the type of decoder. Options: [“DISTMULT”, “TRANSE”, “COMPLEX”, “NODE”]. The first three are decoders for link prediction and the “NODE” decoder is used for node classification.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>DecoderOptions</p></td>
<td><p>Decoder specific options depending on the type.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>optimizer</p></td>
<td><p>OptimizerConfig</p></td>
<td><p>Optimizer to use for the parameters of the decoder (if any). If not given, the dense_optimizer is used.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is a <cite>DISTMULT</cite> decoder with Adagrad Optimizer, that optimizes the loss function over edges as well as their inverses (dest-&gt;rel-&gt;src).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">decoder</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISTMULT</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inverse_edges</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAGRAD</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
</pre></div>
</div>
<section id="decoder-options">
<h4>Decoder Options<a class="headerlink" href="#decoder-options" title="Permalink to this heading"></a></h4>
<p><strong>Edge Decoder Options</strong></p>
<table class="colwidths-given docutils align-default" id="id16">
<caption><span class="caption-text">EdgeDecoderOptions[DecoderOptions]</span><a class="headerlink" href="#id16" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>inverse_edges</p></td>
<td><p>Bool</p></td>
<td><p>If true, the decoder will use two embeddings per edge-type (relation). Where one embedding is applied to the source node of an edge, and the other is applied to the destination node of an edge. Furthermore, the scores of the inverse of the edges will be computed (dst-&gt;rel-&gt;src) and used in the loss. (Default True)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>edge_decoder_method</p></td>
<td><p>String</p></td>
<td><p>Specifies how to apply the decoder to a given set of edges, and negatives. Options are [“infer”, “train”]. (Default “train”)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">decoder</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISTMULT</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inverse_edges</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">edge_decoder_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CORRUPT_NODE</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="loss-configuration">
<span id="loss-conf-section"></span><h3>Loss Configuration<a class="headerlink" href="#loss-configuration" title="Permalink to this heading"></a></h3>
<table class="colwidths-given docutils align-default" id="id17">
<caption><span class="caption-text">LossConfig</span><a class="headerlink" href="#id17" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>Denotes the type of the loss function. Options: [“SOFTMAX_CE”, “RANKING”, “CROSS_ENTROPY”, “BCE_AFTER_SIGMOID”, “BCE_WITH_LOGITS”, “MSE”, “SOFTPLUS”].</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>LossOptions</p></td>
<td><p>Loss function specific options depending on the type.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is the configuration for a <cite>SOFTMAX_CE</cite> loss function with <cite>SUM</cite> as the reduction method.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">loss</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SOFTMAX_CE</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">reduction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUM</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Loss Options</strong></p>
<table class="colwidths-given docutils align-default" id="id18">
<caption><span class="caption-text">LossOptions</span><a class="headerlink" href="#id18" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>reduction</p></td>
<td><p>String</p></td>
<td><p>The reduction to use for the loss. Options are [“SUM”, “MEAN”]. (Default “SUM”)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is the configuration for a <cite>SOFTMAX_CE</cite> loss function with <cite>MEAN</cite> as the reduction method.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">loss</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SOFTMAX_CE</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">reduction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MEAN</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id19">
<caption><span class="caption-text">RankingLossOptions[LossOptions]</span><a class="headerlink" href="#id19" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>reduction</p></td>
<td><p>String</p></td>
<td><p>The reduction to use for the loss. Options are [“SUM”, “MEAN”]. (Default “SUM”)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>margin</p></td>
<td><p>Float</p></td>
<td><p>The margin for the ranking loss function. (Default .1)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is the configuration for a <cite>RANKING</cite> loss function with <cite>margin</cite> set to 1.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">loss</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RANKING</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">reduction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUM</span><span class="w"></span>
<span class="w">    </span><span class="nt">margin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="optimizer-configuration">
<span id="optimizer-conf-section"></span><h3>Optimizer Configuration<a class="headerlink" href="#optimizer-configuration" title="Permalink to this heading"></a></h3>
<table class="colwidths-given docutils align-default" id="id20">
<caption><span class="caption-text">OptimizerConfig</span><a class="headerlink" href="#id20" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>Denotes the type of the optimizer. Options: [“SGD”, “ADAM”, “ADAGRAD”].</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>OptimizerOptions</p></td>
<td><p>Optimizer specific options depending on the type.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>The configuration for an <cite>ADAGRAD</cite> optimizer with learning rate of 0.1 is as follows</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAGRAD</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
</pre></div>
</div>
<p><strong>SGD Options</strong></p>
<table class="colwidths-given docutils align-default" id="id21">
<caption><span class="caption-text">SGDOptions[OptimizerOptions]</span><a class="headerlink" href="#id21" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>learning_rate</p></td>
<td><p>Float</p></td>
<td><p>SGD learning rate. (Default .1)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SGD</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Adagrad Options</strong></p>
<table class="colwidths-given docutils align-default" id="id22">
<caption><span class="caption-text">AdagradOptions[OptimizerOptions]</span><a class="headerlink" href="#id22" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>learning_rate</p></td>
<td><p>Float</p></td>
<td><p>Adagrad learning rate. (Default .1)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>eps</p></td>
<td><p>Float</p></td>
<td><p>Term added to the denominator to improve numerical stability. (Default 1e-10)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>init_value</p></td>
<td><p>Float</p></td>
<td><p>Initial accumulator value. (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>lr_decay</p></td>
<td><p>Float</p></td>
<td><p>Learning rate decay. (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>weight_decay</p></td>
<td><p>Float</p></td>
<td><p>Weight decay (L2 penalty). (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>The below configuration shows the options that can be set for <cite>ADAGRAD</cite> optimizer.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAGRAD</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w"></span>
<span class="w">    </span><span class="nt">eps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0e-10</span><span class="w"></span>
<span class="w">    </span><span class="nt">init_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w"></span>
<span class="w">    </span><span class="nt">lr_decay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w"></span>
<span class="w">    </span><span class="nt">weight_decay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Adam Options</strong></p>
<table class="colwidths-given docutils align-default" id="id23">
<caption><span class="caption-text">AdamOptions[OptimizerOptions]</span><a class="headerlink" href="#id23" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>learning_rate</p></td>
<td><p>Float</p></td>
<td><p>Adam learning rate. (Default .1)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>amsgrad</p></td>
<td><p>Bool</p></td>
<td><p>Whether to use the AMSGrad variant of ADAM.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>beta_1</p></td>
<td><p>Float</p></td>
<td><p>Coefficient used for computing running averages of gradient and its square. (Default .9)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>beta_2</p></td>
<td><p>Float</p></td>
<td><p>Coefficient used for computing running averages of gradient and its square. (Default .999)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>eps</p></td>
<td><p>Float</p></td>
<td><p>Term added to the denominator to improve numerical stability. (Default 1e-8)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>weight_decay</p></td>
<td><p>Float</p></td>
<td><p>Weight decay (L2 penalty). (Default 0.0)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>The below configuration shows the options that can be set for <cite>ADAM</cite> optimizer.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">optimizer</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADAM</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span><span class="w"></span>
<span class="w">    </span><span class="nt">amsgrad</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">beta_1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.9</span><span class="w"></span>
<span class="w">    </span><span class="nt">beta_2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.999</span><span class="w"></span>
<span class="w">    </span><span class="nt">eps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0e-08</span><span class="w"></span>
<span class="w">    </span><span class="nt">weight_decay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="storage-configuration">
<h2>Storage Configuration<a class="headerlink" href="#storage-configuration" title="Permalink to this heading"></a></h2>
<table class="colwidths-given docutils align-default" id="id24">
<caption><span class="caption-text">StorageConfig</span><a class="headerlink" href="#id24" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>device_type</p></td>
<td><p>String</p></td>
<td><p>Whether to use cpu or gpu training. Options are [“CPU”, “CUDA”]. (Default “CPU”)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>dataset</p></td>
<td><p>DatasetConfig</p></td>
<td><p>Contains information about the input dataset.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>edges</p></td>
<td><p>StorageBackendConfig</p></td>
<td><p>Storage backend of the edges. (Default edges.type = DEVICE_MEMORY, edges.options.dtype = int32)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>embeddings</p></td>
<td><p>StorageBackendConfig</p></td>
<td><p>Storage backend of the node embedding. (Default embeddings.type = DEVICE_MEMORY, embeddings.options.dtype = float32)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>features</p></td>
<td><p>StorageBackendConfig</p></td>
<td><p>Storage backend of the node features. (Default features.type DEVICE_MEMORY, features.options.dtype = float32)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>prefetch</p></td>
<td><p>Bool</p></td>
<td><p>If true and the nodes/features storage configuration uses a partition buffer, then node partitions and edge buckets will be prefetched. Note that this introduces additional memory overheads. (Default True)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>full_graph_evaluation</p></td>
<td><p>Bool</p></td>
<td><p>If true and the nodes/features storage configuration uses a partition buffer, evaluation will be performed with the full graph in memory (if there is enough memory). This is useful for fair comparisons across different storage configurations. (Default False)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>model_dir</p></td>
<td><p>String</p></td>
<td><p>Saves the model parameters in the given directory. If not specified, stores in <cite>model_x</cite> directory within the <cite>dataset_dir</cite> where x changes incrementally from 0 - 10. A maximum of 11 models are stored when <cite>model_dir</cite> is not specified, post which the contents in <cite>model_10/</cite> directory are overwritten with the latest parameters.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is a storage configuration that contains the path to the pre-processed data and specifies storage backends to be used for edges, features
and embeddings.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">storage</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">device_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cpu</span><span class="w"></span>
<span class="w">  </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/data/datasets/fb15k_237/</span><span class="w"></span>
<span class="w">  </span><span class="nt">edges</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span><span class="w"></span>
<span class="w">  </span><span class="nt">nodes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span><span class="w"></span>
<span class="w">  </span><span class="nt">embeddings</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">float</span><span class="w"></span>
<span class="w">  </span><span class="nt">features</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">float</span><span class="w"></span>
<span class="w">  </span><span class="nt">prefetch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">shuffle_input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">full_graph_evaluation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">export_encoded_nodes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">log_level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">info</span><span class="w"></span>
</pre></div>
</div>
<section id="dataset-configuration">
<h3>Dataset Configuration<a class="headerlink" href="#dataset-configuration" title="Permalink to this heading"></a></h3>
<table class="colwidths-given docutils align-default" id="id25">
<caption><span class="caption-text">DatasetConfig</span><a class="headerlink" href="#id25" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dataset_dir</p></td>
<td><p>String</p></td>
<td><p>Directory containing the prepreprocessed dataset. Also used to store model parameters and embedding table.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>num_edges</p></td>
<td><p>Int</p></td>
<td><p>Number of edges in the input graph. If link prediction, this should be set to the number of training edges.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>num_nodes</p></td>
<td><p>Int</p></td>
<td><p>Number of nodes in the input graph.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>num_relations</p></td>
<td><p>Int</p></td>
<td><p>Number of relations (edge-types) in the input graph. (Default 1)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>num_train</p></td>
<td><p>Int</p></td>
<td><p>Number of training examples. In link prediction the examples are edges, in node classification they are nodes.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>num_valid</p></td>
<td><p>Int</p></td>
<td><p>Number of validation examples. If not given, no validation will be performed</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>num_test</p></td>
<td><p>Int</p></td>
<td><p>Number of test examples. If not given, only training will occur.</p></td>
<td><p>No (Evaluation)</p></td>
</tr>
<tr class="row-odd"><td><p>node_feature_dim</p></td>
<td><p>Int</p></td>
<td><p>Dimension of the node features, if any.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>num_classes</p></td>
<td><p>Int</p></td>
<td><p>Number of class labels.</p></td>
<td><p>No (Node classification)</p></td>
</tr>
</tbody>
</table>
<p>For Marius in-built datasets, the below numbers are retrieved from output of <cite>marius_preprocess</cite>. For custom user datasets, a
file with the dataset statistics mentioned above should be present in the <cite>dataset_dir</cite>. Below is the cofiguration for the <cite>fb15k_237</cite> dataset.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">storage</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/data/datasets/fb15k_237/</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="storage-backend-configuration">
<h3>Storage Backend Configuration<a class="headerlink" href="#storage-backend-configuration" title="Permalink to this heading"></a></h3>
<table class="colwidths-given docutils align-default" id="id26">
<caption><span class="caption-text">StorageBackendConfig</span><a class="headerlink" href="#id26" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>The type of storage backend to use. The valid options depend on the data being stored. For edges, the valid backends are [“FLAT_FILE”, “HOST_MEMORY” and “DEVICE_MEMORY”]. For embeddings and features, the valid chocies are [“PARTITION_BUFFER”, “HOST_MEMORY”, “DEVICE_MEMORY”]</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p>StorageOptions</p></td>
<td><p>Storage backend options depending on the type of storage.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below configuration specifies that the edges be stored in <cite>DEVICE_MEMORY</cite>, i.e CPU/GPU memory based on <cite>device_type</cite>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">edges</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEVICE_MEMORY</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span><span class="w"></span>
</pre></div>
</div>
<section id="storage-backend-options">
<h4>Storage Backend Options<a class="headerlink" href="#storage-backend-options" title="Permalink to this heading"></a></h4>
<table class="colwidths-given docutils align-default" id="id27">
<caption><span class="caption-text">StorageOptions</span><a class="headerlink" href="#id27" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dtype</p></td>
<td><p>String</p></td>
<td><p>The datatype of the storage. Valid options [“FLOAT”, “FLOAT32”, “DOUBLE”, “FLOAT64”, “INT”, “INT32”, “LONG, “INT64”]. The default value depends on the data being stored. For edges, the default is “INT32”, otherwise the default is “FLOAT32”</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>A configuration defining the datatype of the input edges as <cite>int</cite>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">edges</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id28">
<caption><span class="caption-text">PartitionBufferOptions[StorageOptions]</span><a class="headerlink" href="#id28" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dtype</p></td>
<td><p>String</p></td>
<td><p>The datatype of the storage. Valid options [“FLOAT”, “FLOAT32”, “DOUBLE”, “FLOAT64”]. (Default “FLOAT32”)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>num_partitions</p></td>
<td><p>Int</p></td>
<td><p>Number of node partitions.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>buffer_capacity</p></td>
<td><p>Int</p></td>
<td><p>Number of partitions which can fit in the buffer.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>prefetching</p></td>
<td><p>Bool</p></td>
<td><p>If true, partitions will be prefetched and written to storage asynchronously. This prevents IO wait times at the cost of additional memory overheads. (Default True)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Below is a disk-based storage configuration, where at max of <cite>buffer_capacity</cite> embeddings buckets are stored in memory at any given time.
The dataset must be partitioned using <cite>marius_preprocess</cite> with <cite>–num_partitions</cite> set accordingly.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">embeddings</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PARTITION_BUFFER</span><span class="w"></span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">dtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">float</span><span class="w"></span>
<span class="w">    </span><span class="nt">num_partitions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">buffer_capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">prefetching</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="training-configuration">
<h2>Training Configuration<a class="headerlink" href="#training-configuration" title="Permalink to this heading"></a></h2>
<table class="colwidths-given docutils align-default" id="id29">
<caption><span class="caption-text">TrainingConfig</span><a class="headerlink" href="#id29" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>batch_size</p></td>
<td><p>Int</p></td>
<td><p>Amount of training examples per batch. (Default 1000)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>negative_sampling</p></td>
<td><p>NegativeSamplingConfig</p></td>
<td><p>Negative sampling configuration for link prediction.</p></td>
<td><p>Link Prediction</p></td>
</tr>
<tr class="row-even"><td><p>num_epochs</p></td>
<td><p>Int</p></td>
<td><p>Number of epochs to train.</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>pipeline</p></td>
<td><p>PipelineConfig</p></td>
<td><p>Advanced configuration of the training pipeline. Defaults to synchronous training.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>epochs_per_shuffle</p></td>
<td><p>Int</p></td>
<td><p>Sets how often to shuffle the training data. (Default 1)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>logs_per_epoch</p></td>
<td><p>Int</p></td>
<td><p>Sets how often to report progress during an epoch. (Default 10)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>save_model</p></td>
<td><p>Bool</p></td>
<td><p>If true, the model will be saved at the end of training. (Default True)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>resume_training</p></td>
<td><p>Bool</p></td>
<td><p>If true, the training procedure will resume from the previous state and will train <cite>num_epochs</cite> further epochs.  (Default False)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>resume_from_checkpoint</p></td>
<td><p>String</p></td>
<td><p>If set, loads the model from the given directory and resumes training procedure. Will train <cite>num_epochs</cite> further epochs and store the new model parameters in <cite>model_dir</cite>.</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>A training configuration with batchsize of 1000 and a total of 10 epochs is as follows. <cite>pipeline</cite> is set to true, which ensures that
the training is synchronous and doesn’t allow staleness. Marius groups edges into chunks and reuses negative samples within the chunk.
<cite>num_chunks`*`negatives_per_positive</cite> negative edges are sampled for each positive edge.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">training</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w"></span>
<span class="w">  </span><span class="nt">negative_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">num_chunks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">negatives_per_positive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">degree_fraction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w"></span>
<span class="w">    </span><span class="nt">filtered</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">  </span><span class="nt">num_epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">  </span><span class="nt">pipeline</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">epochs_per_shuffle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">  </span><span class="nt">logs_per_epoch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">  </span><span class="nt">save_model</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">resume_training</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="evaluation-configuration">
<h2>Evaluation Configuration<a class="headerlink" href="#evaluation-configuration" title="Permalink to this heading"></a></h2>
<table class="colwidths-given docutils align-default" id="id30">
<caption><span class="caption-text">EvaluationConfig</span><a class="headerlink" href="#id30" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 56%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>batch_size</p></td>
<td><p>Int</p></td>
<td><p>Amount of evaluation examples per batch. (Default 1000)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>negative_sampling</p></td>
<td><p>NegativeSamplingConfig</p></td>
<td><p>Negative sampling configuration for link prediction.</p></td>
<td><p>Link Prediction</p></td>
</tr>
<tr class="row-even"><td><p>pipeline</p></td>
<td><p>PipelineConfig</p></td>
<td><p>Advanced configuration of the evaluation pipeline. Defaults to synchronous evaluation.</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>epochs_per_eval</p></td>
<td><p>Int</p></td>
<td><p>Sets how often to evaluate the model. (Default 1)</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>An evaluation configuration with batchsize of 1000 is as follows. <cite>num_chunks`*`negatives_per_positive</cite> negative edges are sampled
for each positive edge.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">evaluation</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w"></span>
<span class="w">  </span><span class="nt">negative_sampling</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">num_chunks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">negatives_per_positive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w"></span>
<span class="w">    </span><span class="nt">degree_fraction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w"></span>
<span class="w">    </span><span class="nt">filtered</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">pipeline</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">epochs_per_eval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="samples.html" class="btn btn-neutral float-left" title="Sample Files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../python_api/index.html" class="btn btn-neutral float-right" title="Python API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>